import{_ as k}from"./AuthenticatedLayout-ef1C1NZK.js";import{g as o,a as l,d as i,h as C,w as n,b as t,o as a,F as b,m as E,t as d,n as u,i as m,l as p,f as g,p as y}from"./app-C6plGbeC.js";import"./ApplicationLogo-Cl59Fu5i.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"flex justify-between items-center"},D={class:"flex items-center gap-3"},N={class:"py-12"},S={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},V={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},B={class:"p-6 text-gray-900"},P={key:0,class:"text-center py-8 text-gray-500"},j={key:1,class:"space-y-4"},A={class:"flex justify-between items-start"},F={class:"flex-1"},L={class:"flex items-center gap-2 mb-2"},M={class:"text-lg font-semibold"},T={key:0,class:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800"},U={key:1,class:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800"},z={class:"text-gray-600 mb-2"},H={class:"text-sm text-gray-500"},I={class:"mt-1"},q={class:"flex flex-col gap-2 ml-4"},G=["onClick"],J=["onClick"],W={__name:"Index",props:{events:Array},setup(h){const _=e=>{confirm("Are you sure you want to delete this event?")&&y.delete(route("events.destroy",e))},f=e=>{y.patch(route("events.update",e.id),{...e,is_published:!e.is_published})},v=e=>{const r={general:"bg-blue-100 text-blue-800",exam:"bg-red-100 text-red-800",holiday:"bg-green-100 text-green-800",meeting:"bg-purple-100 text-purple-800",deadline:"bg-orange-100 text-orange-800"};return r[e]||r.general},c=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(e,r)=>(a(),o(b,null,[l(i(C),{title:"Event Management"}),l(k,null,{header:n(()=>[t("div",$,[t("div",D,[r[0]||(r[0]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Event Management",-1)),t("span",{class:u(["px-2 py-1 text-xs rounded-full",{"bg-red-100 text-red-800":e.$page.props.auth.user.role==="administrador","bg-blue-100 text-blue-800":e.$page.props.auth.user.role==="editor","bg-purple-100 text-purple-800":e.$page.props.auth.user.role==="auditor"}])},d(e.$page.props.auth.user.role.toUpperCase()),3)]),l(i(p),{href:e.route("events.create"),class:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded"},{default:n(()=>[...r[1]||(r[1]=[g(" Create New Event ",-1)])]),_:1},8,["href"])])]),default:n(()=>[t("div",N,[t("div",S,[t("div",V,[t("div",B,[h.events.length===0?(a(),o("div",P," No events found. Create your first event! ")):(a(),o("div",j,[(a(!0),o(b,null,E(h.events,s=>{var x;return a(),o("div",{key:s.id,class:"border rounded-lg p-4 hover:shadow-md transition-shadow"},[t("div",A,[t("div",F,[t("div",L,[t("h3",M,d(s.title),1),t("span",{class:u([v(s.type),"px-2 py-1 text-xs rounded-full"])},d(s.type),3),s.is_published?(a(),o("span",T," Published ")):(a(),o("span",U," Draft "))]),t("p",z,d(s.description),1),t("div",H,[t("p",null,"Start: "+d(c(s.start_date)),1),t("p",null,"End: "+d(c(s.end_date)),1),t("p",I,"Created by: "+d((x=s.user)==null?void 0:x.name),1)])]),t("div",q,[e.$page.props.auth.user.role==="administrador"?(a(),o("button",{key:0,onClick:w=>f(s),class:u(["px-3 py-1 text-sm rounded",s.is_published?"bg-gray-200 hover:bg-gray-300":"bg-green-500 hover:bg-green-600 text-white"])},d(s.is_published?"Unpublish":"Publish"),11,G)):m("",!0),l(i(p),{href:e.route("events.edit",s.id),class:"px-3 py-1 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded text-center"},{default:n(()=>[...r[2]||(r[2]=[g(" Edit ",-1)])]),_:1},8,["href"]),l(i(p),{href:e.route("events.audits",s.id),class:"px-3 py-1 text-sm bg-purple-500 hover:bg-purple-600 text-white rounded text-center"},{default:n(()=>[...r[3]||(r[3]=[g(" History ",-1)])]),_:1},8,["href"]),e.$page.props.auth.user.role==="administrador"?(a(),o("button",{key:1,onClick:w=>_(s.id),class:"px-3 py-1 text-sm bg-red-500 hover:bg-red-600 text-white rounded"}," Delete ",8,J)):m("",!0)])])])}),128))]))])])])])]),_:1})],64))}};export{W as default};
