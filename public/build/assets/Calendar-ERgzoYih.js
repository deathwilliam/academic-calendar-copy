import{A as p,j as S,g as a,a as X,b as e,d as Z,h as ee,f as te,i as h,I as se,k as M,q as N,D as ae,s as le,F as g,m,n as v,t as n,p as oe,o as l}from"./app-C6plGbeC.js";const ne={class:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50"},re={class:"bg-white shadow-sm"},ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},de={class:"flex justify-between items-center"},ue=["href"],ce={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},ge={class:"bg-white rounded-lg shadow-md p-6 mb-6"},ve={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4"},pe=["value"],me={class:"bg-white rounded-lg shadow-md p-6 mb-6"},xe={class:"flex flex-col sm:flex-row justify-between items-center gap-4"},be={class:"flex gap-2"},ye={class:"flex items-center gap-4"},he={class:"text-xl font-bold text-gray-800"},fe={key:0},we={key:1},_e={key:2},De={key:0,class:"bg-white rounded-lg shadow-md p-6 mb-6"},ke={class:"grid grid-cols-7 gap-2"},Se={key:0,class:"h-full flex flex-col"},Me={class:"text-sm font-semibold text-gray-700 mb-1"},Ve={class:"flex-1 space-y-1"},Ce=["title"],Ee={key:1,class:"bg-white rounded-lg shadow-md p-6 mb-6"},Fe={class:"grid grid-cols-7 gap-2"},Ne={class:"text-center mb-2"},Te={class:"font-semibold text-gray-700"},Ae={class:"text-sm text-gray-500"},Le={class:"space-y-2"},je={class:"font-semibold"},Be={class:"text-xs opacity-90"},Oe={key:2,class:"bg-white rounded-lg shadow-md p-6 mb-6"},$e={class:"space-y-4"},ze={key:0,class:"text-center py-8 text-gray-500"},Je={class:"flex justify-between items-start"},Ue={class:"flex-1"},We={class:"font-bold text-lg"},Ge={class:"text-gray-600 mt-1"},He={class:"flex gap-4 mt-2 text-sm text-gray-500"},Ie={class:"capitalize"},Ke={class:"bg-white rounded-lg shadow-md p-6"},Pe={key:0,class:"text-center py-8 text-gray-500"},Re={key:1,class:"space-y-3"},Ye={class:"font-semibold"},qe={class:"text-sm text-gray-600"},Qe={class:"text-xs text-gray-500 mt-1"},Ze={__name:"Calendar",props:{events:Array,filters:Object},setup(V){var A,L,j,B;const b=V,f=p(((A=b.filters)==null?void 0:A.search)||""),w=p(((L=b.filters)==null?void 0:L.type)||""),_=p(((j=b.filters)==null?void 0:j.start_date)||""),D=p(((B=b.filters)==null?void 0:B.end_date)||""),u=p("month"),o=p(new Date),c=p(o.value.getMonth()),x=p(o.value.getFullYear()),$=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],z=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],J=[{value:"",label:"Todos los tipos"},{value:"general",label:"General"},{value:"exam",label:"Examen"},{value:"holiday",label:"Vacaciones"},{value:"meeting",label:"Reunión"},{value:"deadline",label:"Fecha límite"}],C=()=>{oe.get(route("calendar.public"),{search:f.value,type:w.value,start_date:_.value,end_date:D.value},{preserveState:!0,preserveScroll:!0})},U=()=>{f.value="",w.value="",_.value="",D.value="",C()},W=S(()=>new Date(x.value,c.value+1,0).getDate()),G=S(()=>new Date(x.value,c.value,1).getDay()),H=S(()=>{const r=[],s=W.value,t=G.value;for(let i=0;i<t;i++)r.push(null);for(let i=1;i<=s;i++)r.push(i);return r}),T=S(()=>{const r=[],s=new Date(x.value,c.value,o.value.getDate()),t=s.getDay(),i=new Date(s);i.setDate(s.getDate()-t);for(let d=0;d<7;d++){const O=new Date(i);O.setDate(i.getDate()+d),r.push(O)}return r}),I=r=>{if(!r)return[];const s=new Date(x.value,c.value,r);return b.events.filter(t=>{const i=new Date(t.start_date),d=new Date(t.end_date);return s>=new Date(i.toDateString())&&s<=new Date(d.toDateString())})},E=r=>b.events.filter(s=>{const t=new Date(s.start_date),i=new Date(s.end_date),d=new Date(r.toDateString());return d>=new Date(t.toDateString())&&d<=new Date(i.toDateString())}),K=()=>{c.value===0?(c.value=11,x.value--):c.value--},P=()=>{c.value===11?(c.value=0,x.value++):c.value++},R=()=>{o.value.setDate(o.value.getDate()-7),o.value=new Date(o.value)},Y=()=>{o.value.setDate(o.value.getDate()+7),o.value=new Date(o.value)},q=()=>{o.value.setDate(o.value.getDate()-1),o.value=new Date(o.value)},Q=()=>{o.value.setDate(o.value.getDate()+1),o.value=new Date(o.value)},y=r=>{const s={general:"bg-blue-500",exam:"bg-red-500",holiday:"bg-green-500",meeting:"bg-purple-500",deadline:"bg-orange-500"};return s[r]||s.general},k=r=>new Date(r).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),F=r=>new Date(r).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});return(r,s)=>(l(),a(g,null,[X(Z(ee),{title:"Calendario Académico"}),e("div",ne,[e("header",re,[e("div",ie,[e("div",de,[s[10]||(s[10]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Calendario Académico"),e("p",{class:"mt-1 text-sm text-gray-600"},"Eventos y fechas importantes")],-1)),e("a",{href:r.route("calendar.export-pdf"),target:"_blank",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition flex items-center gap-2"},[...s[9]||(s[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),te(" Exportar PDF ",-1)])],8,ue)])])]),e("main",ce,[e("div",ge,[s[15]||(s[15]=e("h3",{class:"font-semibold text-lg mb-4"},"Buscar y Filtrar",-1)),e("div",ve,[e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Buscar",-1)),M(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>f.value=t),type:"text",placeholder:"Título o descripción...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",onKeyup:ae(C,["enter"])},null,544),[[N,f.value]])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tipo de Evento",-1)),M(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>w.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},[(l(),a(g,null,m(J,t=>e("option",{key:t.value,value:t.value},n(t.label),9,pe)),64))],512),[[le,w.value]])]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Desde",-1)),M(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>_.value=t),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},null,512),[[N,_.value]])]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Hasta",-1)),M(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>D.value=t),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},null,512),[[N,D.value]])])]),e("div",{class:"flex gap-2"},[e("button",{onClick:C,class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition"}," Aplicar Filtros "),e("button",{onClick:U,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition"}," Limpiar ")])]),e("div",me,[e("div",xe,[e("div",be,[e("button",{onClick:s[4]||(s[4]=t=>u.value="month"),class:v([u.value==="month"?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-lg hover:opacity-90 transition"])}," Mes ",2),e("button",{onClick:s[5]||(s[5]=t=>u.value="week"),class:v([u.value==="week"?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-lg hover:opacity-90 transition"])}," Semana ",2),e("button",{onClick:s[6]||(s[6]=t=>u.value="day"),class:v([u.value==="day"?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-lg hover:opacity-90 transition"])}," Día ",2)]),e("div",ye,[e("button",{onClick:s[7]||(s[7]=t=>u.value==="month"?K():u.value==="week"?R():q()),class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition"}," ← Anterior "),e("h2",he,[u.value==="month"?(l(),a("span",fe,n($[c.value])+" "+n(x.value),1)):u.value==="week"?(l(),a("span",we,"Semana del "+n(k(T.value[0])),1)):(l(),a("span",_e,n(k(o.value)),1))]),e("button",{onClick:s[8]||(s[8]=t=>u.value==="month"?P():u.value==="week"?Y():Q()),class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition"}," Siguiente → ")])])]),u.value==="month"?(l(),a("div",De,[e("div",ke,[(l(),a(g,null,m(["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],t=>e("div",{key:t,class:"text-center font-semibold text-gray-700 py-2"},n(t),1)),64)),(l(!0),a(g,null,m(H.value,(t,i)=>(l(),a("div",{key:i,class:v(["min-h-24 border rounded-lg p-2",t?"bg-white hover:bg-gray-50":"bg-gray-100"])},[t?(l(),a("div",Se,[e("span",Me,n(t),1),e("div",Ve,[(l(!0),a(g,null,m(I(t),d=>(l(),a("div",{key:d.id,class:v([y(d.type),"text-xs text-white px-2 py-1 rounded truncate"]),title:d.title},n(d.title),11,Ce))),128))])])):h("",!0)],2))),128))])])):h("",!0),u.value==="week"?(l(),a("div",Ee,[e("div",Fe,[(l(!0),a(g,null,m(T.value,(t,i)=>(l(),a("div",{key:i,class:"border rounded-lg p-3"},[e("div",Ne,[e("div",Te,n(z[t.getDay()]),1),e("div",Ae,n(t.getDate()),1)]),e("div",Le,[(l(!0),a(g,null,m(E(t),d=>(l(),a("div",{key:d.id,class:v([y(d.type),"text-xs text-white px-2 py-2 rounded"])},[e("div",je,n(d.title),1),e("div",Be,n(F(d.start_date)),1)],2))),128))])]))),128))])])):h("",!0),u.value==="day"?(l(),a("div",Oe,[e("div",$e,[E(o.value).length===0?(l(),a("div",ze," No hay eventos para este día. ")):h("",!0),(l(!0),a(g,null,m(E(o.value),t=>(l(),a("div",{key:t.id,class:v(["border-l-4 pl-4 py-3",y(t.type).replace("bg-","border-")])},[e("div",Je,[e("div",Ue,[e("h4",We,n(t.title),1),e("p",Ge,n(t.description),1),e("div",He,[e("span",null,n(F(t.start_date))+" - "+n(F(t.end_date)),1),e("span",Ie,n(t.type),1)])]),e("div",{class:v([y(t.type),"px-3 py-1 rounded-full text-white text-xs font-semibold"])},n(t.type),3)])],2))),128))])])):h("",!0),s[17]||(s[17]=se('<div class="bg-white rounded-lg shadow-md p-6 mb-6"><h3 class="font-semibold text-lg mb-4">Leyenda</h3><div class="flex flex-wrap gap-4"><div class="flex items-center"><div class="w-4 h-4 bg-blue-500 rounded mr-2"></div><span class="text-sm">General</span></div><div class="flex items-center"><div class="w-4 h-4 bg-red-500 rounded mr-2"></div><span class="text-sm">Examen</span></div><div class="flex items-center"><div class="w-4 h-4 bg-green-500 rounded mr-2"></div><span class="text-sm">Vacaciones</span></div><div class="flex items-center"><div class="w-4 h-4 bg-purple-500 rounded mr-2"></div><span class="text-sm">Reunión</span></div><div class="flex items-center"><div class="w-4 h-4 bg-orange-500 rounded mr-2"></div><span class="text-sm">Fecha límite</span></div></div></div>',1)),e("div",Ke,[s[16]||(s[16]=e("h3",{class:"font-semibold text-lg mb-4"},"Próximos Eventos",-1)),V.events.length===0?(l(),a("div",Pe," No hay eventos publicados. ")):(l(),a("div",Re,[(l(!0),a(g,null,m(V.events.slice(0,10),t=>(l(),a("div",{key:t.id,class:v(["border-l-4 pl-4 py-2",y(t.type).replace("bg-","border-")])},[e("h4",Ye,n(t.title),1),e("p",qe,n(t.description),1),e("p",Qe,n(k(t.start_date))+" - "+n(k(t.end_date)),1)],2))),128))]))])])])],64))}};export{Ze as default};
