import{_ as y}from"./AuthenticatedLayout-ef1C1NZK.js";import{g as s,a as m,d as f,h as b,w as h,b as e,o,F as d,m as v,i as u,t as n,p as w}from"./app-C6plGbeC.js";import"./ApplicationLogo-Cl59Fu5i.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"font-semibold text-xl text-gray-800 leading-tight"},C={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},D={class:"p-6"},N={class:"mb-4"},S=["href"],V={key:0,class:"text-center py-8 text-gray-500"},A={key:1,class:"space-y-4"},j={class:"flex justify-between items-start mb-2"},F={class:"font-semibold"},H={class:"text-sm text-gray-600"},L=["onClick"],$={key:0,class:"mt-3 text-sm"},O={class:"bg-gray-50 p-3 rounded"},R={class:"font-medium"},T={class:"ml-4"},q={class:"text-red-600"},z={class:"text-green-600"},M={__name:"Audits",props:{event:Object,audits:Array},setup(a){const g=a,p=i=>{confirm("Are you sure you want to revert to this version?")&&w.post(route("events.revert",{event:g.event.id,audit:i}))},x=i=>new Date(i).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(i,l)=>(o(),s(d,null,[m(f(b),{title:"Event History"}),m(y,null,{header:h(()=>[e("h2",k," Event History: "+n(a.event.title),1)]),default:h(()=>[e("div",C,[e("div",E,[e("div",B,[e("div",D,[e("div",N,[e("a",{href:i.route("events.index"),class:"text-indigo-600 hover:text-indigo-900"}," â† Back to Events ",8,S)]),a.audits.length===0?(o(),s("div",V," No history available for this event. ")):(o(),s("div",A,[(o(!0),s(d,null,v(a.audits,t=>{var c;return o(),s("div",{key:t.id,class:"border rounded-lg p-4"},[e("div",j,[e("div",null,[e("p",F,n(t.event),1),e("p",H,n(x(t.created_at))+" by "+n(((c=t.user)==null?void 0:c.name)||"System"),1)]),t.old_values?(o(),s("button",{key:0,onClick:_=>p(t.id),class:"px-3 py-1 text-sm bg-orange-500 hover:bg-orange-600 text-white rounded"}," Revert to this version ",8,L)):u("",!0)]),t.old_values?(o(),s("div",$,[l[0]||(l[0]=e("p",{class:"font-semibold mb-1"},"Changes:",-1)),e("div",O,[(o(!0),s(d,null,v(t.old_values,(_,r)=>(o(),s("div",{key:r,class:"mb-2"},[e("span",R,n(r)+":",1),e("div",T,[e("p",q," - "+n(_),1),e("p",z," + "+n(t.new_values[r]),1)])]))),128))])])):u("",!0)])}),128))]))])])])])]),_:1})],64))}};export{M as default};
